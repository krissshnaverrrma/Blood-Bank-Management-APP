{% extends 'base.html' %}

{% block title %}Transaction Successful - Blood Management APP{% endblock %}

{% block content %}
<div class="row justify-content-center align-items-center" style="min-height: 85vh;">
    <div class="col-md-6">
        <div class="glass-card p-5 text-center">

            <div class="mb-4">
                <div class="d-inline-flex align-items-center justify-content-center rounded-circle bg-success bg-opacity-25 text-success"
                    style="width: 80px; height: 80px; box-shadow: 0 0 20px rgba(40, 167, 69, 0.4);">
                    <i class="fa-solid fa-check fa-3x"></i>
                </div>
            </div>

            <h2 class="text-white fw-bold mb-2">Transaction Successful</h2>
            <p class="text-white-50 mb-5">The blood units have been issued and stock updated.</p>

            <div class="bg-white bg-opacity-10 rounded-4 p-4 mb-5 text-start border border-secondary border-opacity-25">

                <div class="d-flex justify-content-between mb-3">
                    <span class="text-white-50 small text-uppercase fw-bold">Transaction ID</span>
                    <span class="text-white font-monospace">#{{ "%04d" | format(t.id) }}</span>
                </div>

                <div class="d-flex justify-content-between mb-3">
                    <span class="text-white-50 small text-uppercase fw-bold">Patient</span>
                    <span class="text-white fw-bold">{{ t.patient_name }}</span>
                </div>

                <div class="d-flex justify-content-between mb-3">
                    <span class="text-white-50 small text-uppercase fw-bold">Blood Group</span>
                    <span class="badge bg-danger text-white border border-danger border-opacity-50 px-3">{{
                        t.blood_group }}</span>
                </div>

                <div class="d-flex justify-content-between mb-3">
                    <span class="text-white-50 small text-uppercase fw-bold">Total Paid</span>
                    <span class="text-success fw-bold fs-5">â‚¹{{ t.total_amount }}</span>
                </div>

                <div class="d-flex justify-content-between">
                    <span class="text-white-50 small text-uppercase fw-bold">Payment Ref (UTR)</span>
                    <span class="text-white-50 small font-monospace">{{ t.utr_number }}</span>
                </div>

            </div>

            <div class="d-flex gap-3 justify-content-center">
                <a href="{{ url_for('view_invoice', id=t.id) }}" class="btn btn-solid-white px-4">
                    <i class="fa-solid fa-print me-2"></i> View Invoice
                </a>
                <a href="{{ url_for('dashboard') }}" class="btn btn-outline-white px-4">
                    Go to Dashboard
                </a>
            </div>

        </div>
    </div>
</div>
{% endblock %}